---
title: "Proyecto 2 - Procesos Puntuales"
author: "Andres Arguedas-Natalia Díaz Ramírez"
date: "October 2, 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(spatstat)

```


###** **


**Introducción**

Global Volcanism Program (GVP) del Instituto Smithsoniano documenta los volcanes de la Tierra y su historia eruptiva en los últimos 10,000 años. El GVP informa sobre las erupciones actuales de todo el mundo y mantiene un repositorio de bases de datos sobre volcanes activos y sus erupciones. 

La base de datos incluye los nombres, ubicaciones, tipos y características de más de 1,500 volcanes con erupciones durante el período del Holoceno (aproximadamente los últimos 10,000 años) o que muestran disturbios actuales.

Variables:


- Nombre

- País

- Región

- Tipo

- Evidencia de Actividad

- Ultima erupción

- Latitud

- Longitud

- Elevacion (Metros)

-Tipo de roca dominandte

Ambiente tectónico




**Metodología**

**Resultados**

*hay quenocultar el chunck para que solo muestre los resultados

```{r}
# Cargamos los datos
database <- read.csv("database.csv")

# Especificamos la region

# database <- database[database$Region == "MÃƒÂ©xico and Central America", ]

# Definimos la ventana

wndw <- owin(x = c(min(database$Longitude), max(database$Longitude)),
             y = c(min(database$Latitude), max(database$Latitude)))

# Hacemos el objeto ppp

spec <- ppp(x = database$Longitude, database$Latitude, window = wndw)


```

Gráfico de patrones espaciales en el area bajo estudio

```{r}
plot(spec)
```


 Gráfico de Densidad
 
```{r}
plot(density(spec))
```

Propiedades de segundo orden


-Función K


```{r}
rip.k <- Kest(spec)
plot(rip.k)
```


- Correcion de la función k

Funcion L

```{r}
rip.l <- Lest(spec)
plot(rip.l)

```





```{r}
# SimulaciÃ³n de Poissones

set.seed(1) # Establecemos una semilla para reproducibilidad
env <- envelope(spec, fun = Lest, nsim = 999)
plot(env)
```

```{r}
# Cantidad de puntos cercanos segÃºn aumenta el radio

l.iso <- rip.l$iso
l.theo <- rip.l$theo
l.dev <- l.iso - l.theo
plot(l.dev ~ rip.l$r, type = "l",
     ylab = "Desviacion distribución teorica",
     xlab = "Distancia")

```



```{r}
# Modelo con solo x y y

fit1 <- ppm(spec, ~ x + y)
plot(fit1, how = "image", se = FALSE, pause = FALSE)
persp(predict(fit1), theta = 270)

```

```{r}

# Modelo con un polinomio de grado 2 con x y y

fit2 <- ppm(spec, ~ polynom(x, y, 2))
plot(fit2, how = "image", se = FALSE, pause = FALSE)
persp(predict(fit2), theta = 180)

```


**conclusiones**

**Referencias**

()[https://www.kaggle.com/smithsonian/volcanic-eruptions]





